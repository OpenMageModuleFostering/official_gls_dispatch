<?xml version="1.0"?>
<config>
    <modules>
        <SynergeticAgency_Gls>
            <version>1.1.3</version>
        </SynergeticAgency_Gls>
    </modules>
    <global>
        <models>
            <synergeticagency_gls>
                <class>SynergeticAgency_Gls_Model</class>
                <resourceModel>synergeticagency_gls_resource</resourceModel>
            </synergeticagency_gls>
            <synergeticagency_gls_resource>
                <class>SynergeticAgency_Gls_Model_Resource</class>
                <entities>
                    <shipment>
                        <table>synergeticagency_gls_shipment</table>
                    </shipment>
                    <shipment_parcel>
                        <table>synergeticagency_gls_shipment_parcel</table>
                    </shipment_parcel>
                    <shipment_address>
                        <table>synergeticagency_gls_shipment_address</table>
                    </shipment_address>
                    <shipment_job>
                        <table>synergeticagency_gls_shipment_job</table>
                    </shipment_job>
                </entities>
            </synergeticagency_gls_resource>
        </models>
        <blocks>
            <synergeticagency_gls>
                <class>SynergeticAgency_Gls_Block</class>
            </synergeticagency_gls>
            <adminhtml>
                <rewrite>
                    <sales_order_shipment_create_tracking>SynergeticAgency_Gls_Block_Adminhtml_Sales_Order_Shipment_Create_Tracking</sales_order_shipment_create_tracking>
                </rewrite>
                <rewrite>
                    <sales_order_shipment_view_tracking>SynergeticAgency_Gls_Block_Adminhtml_Sales_Order_Shipment_View_Tracking</sales_order_shipment_view_tracking>
                </rewrite>
            </adminhtml>
        </blocks>
        <helpers>
            <synergeticagency_gls>
                <class>SynergeticAgency_Gls_Helper</class>
            </synergeticagency_gls>
        </helpers>
        <resources>
            <synergeticagency_gls_setup>
                <setup>
                    <module>SynergeticAgency_Gls</module>
                    <class>Mage_Customer_Model_Resource_Setup</class>
                </setup>
            </synergeticagency_gls_setup>
        </resources>
        <fieldsets>
            <sales_copy_order_billing_address>
                <parcelshop_name>
                    <to_order>*</to_order>
                </parcelshop_name>
                <parcelshop_id>
                    <to_order>*</to_order>
                </parcelshop_id>
            </sales_copy_order_billing_address>
            <sales_copy_order_shipping_address>
                <parcelshop_name>
                    <to_order>*</to_order>
                </parcelshop_name>
                <parcelshop_id>
                    <to_order>*</to_order>
                </parcelshop_id>
            </sales_copy_order_shipping_address>
            <sales_convert_quote_address>
                <parcelshop_name>
                    <to_order_address>*</to_order_address>
                </parcelshop_name>
                <parcelshop_id>
                    <to_order_address>*</to_order_address>
                </parcelshop_id>
                <parcelshop_active>
                    <to_order_address>*</to_order_address>
                </parcelshop_active>
            </sales_convert_quote_address>
            <sales_convert_order_address>
                <parcelshop_name>
                    <to_quote_address>*</to_quote_address>
                </parcelshop_name>
                <parcelshop_id>
                    <to_quote_address>*</to_quote_address>
                </parcelshop_id>
                <parcelshop_active>
                    <to_quote_address>*</to_quote_address>
                </parcelshop_active>
            </sales_convert_order_address>
            <customer_address>
                <parcelshop_name>
                    <to_quote_address>*</to_quote_address>
                    <to_order_address>*</to_order_address>
                </parcelshop_name>
                <parcelshop_id>
                    <to_quote_address>*</to_quote_address>
                    <to_order_address>*</to_order_address>
                </parcelshop_id>
                <parcelshop_active>
                    <to_quote_address>*</to_quote_address>
                    <to_order_address>*</to_order_address>
                </parcelshop_active>
            </customer_address>
        </fieldsets>
    </global>
	<crontab>
		<jobs>
			<synergeticagency_gls_jsonconfig_import>
				<schedule><cron_expr>*/10 * * * *</cron_expr></schedule>
				<run><model>synergeticagency_gls/jsonimport::run</model></run>
			</synergeticagency_gls_jsonconfig_import>
            <synergeticagency_gls_job_massprint>
                <schedule><cron_expr>* * * * *</cron_expr></schedule>
                <run><model>synergeticagency_gls/massprint::run</model></run>
            </synergeticagency_gls_job_massprint>
		</jobs>
	</crontab>
    <adminhtml>
        <translate>
            <modules>
                <SynergeticAgency_Gls>
                    <files>
                        <default>SynergeticAgency_Gls.csv</default>
                    </files>
                </SynergeticAgency_Gls>
            </modules>
        </translate>
        <events>
            <controller_action_layout_render_before_adminhtml_system_config_edit>
                <observers>
                    <gls_controller_action_layout_render_before_adminhtml_system_config_edit>
                        <class>synergeticagency_gls/observer</class>
                        <method>setCountryModel</method>
                    </gls_controller_action_layout_render_before_adminhtml_system_config_edit>
                </observers>
            </controller_action_layout_render_before_adminhtml_system_config_edit>
            <controller_action_postdispatch_adminhtml_sales_order_shipment_save>
                <observers>
                    <save_gls_shipment_data>
                        <class>synergeticagency_gls/observer</class>
                        <method>saveShipmentData</method>
                    </save_gls_shipment_data>
                </observers>
            </controller_action_postdispatch_adminhtml_sales_order_shipment_save>
            <controller_action_postdispatch_adminhtml_sales_order_invoice_save>
                <observers>
                    <save_gls_order_status>
                        <class>synergeticagency_gls/observer</class>
                        <method>saveGlsOrderStatus</method>
                    </save_gls_order_status>
                </observers>
            </controller_action_postdispatch_adminhtml_sales_order_invoice_save>
            <sales_order_shipment_save_before>
                <observers>
                    <check_gls_shipment_data>
                        <class>synergeticagency_gls/observer</class>
                        <method>checkGlsShipmentData</method>
                    </check_gls_shipment_data>
                </observers>
            </sales_order_shipment_save_before>
            <adminhtml_widget_container_html_before>
                <observers>
                    <add_gls_pdf_button_to_order>
                        <class>synergeticagency_gls/observer</class>
                        <method>addGlsPdfButtonToOrder</method>
                    </add_gls_pdf_button_to_order>
                </observers>
            </adminhtml_widget_container_html_before>
            <adminhtml_block_html_before>
                <observers>
                    <synergeticagency_gls_ordergrid_adminhtml_block_html_before>
                        <class>synergeticagency_gls/observer</class>
                        <method>beforeBlockToHtml</method>
                    </synergeticagency_gls_ordergrid_adminhtml_block_html_before>
                </observers>
            </adminhtml_block_html_before>
            <core_block_abstract_prepare_layout_before>
                <observers>
                    <synergeticagency_gls_core_block_abstract_prepare_layout_before>
                        <class>synergeticagency_gls/observer</class>
                        <method>addMassActionToOrderGrid</method>
                    </synergeticagency_gls_core_block_abstract_prepare_layout_before>
                </observers>
            </core_block_abstract_prepare_layout_before>
        </events>
        <layout>
            <updates>
                <synergeticagency_gls>
                    <file>synergeticagency/gls.xml</file>
                </synergeticagency_gls>
            </updates>
        </layout>
    </adminhtml>
    <admin>
        <routers>
            <adminhtml>
                <args>
                    <modules>
                        <SynergeticAgency_Gls after="Mage_Adminhtml">SynergeticAgency_Gls_Adminhtml</SynergeticAgency_Gls>
                    </modules>
                </args>
            </adminhtml>
        </routers>
    </admin>
    <frontend>
        <events>
            <core_block_abstract_to_html_after>
                <observers>
                    <!-- todo: please use another more descripable name instead of "gls_core_block_abstract_to_html_after" here -->
                    <gls_core_block_abstract_to_html_after>
                        <class>synergeticagency_gls/observer</class>
                        <method>setGlsShippingLogos</method>
                    </gls_core_block_abstract_to_html_after>
                </observers>
            </core_block_abstract_to_html_after>
        </events>
        <translate>
            <modules>
                <SynergeticAgency_Gls>
                    <files>
                        <default>SynergeticAgency_Gls.csv</default>
                    </files>
                </SynergeticAgency_Gls>
            </modules>
        </translate>
        <layout>
            <updates>
                <synergeticagency_gls>
                    <file>synergeticagency/gls.xml</file>
                </synergeticagency_gls>
            </updates>
        </layout>
        <routers>
            <synergeticagency_gls>
                <use>standard</use>
                <args>
                    <module>SynergeticAgency_Gls</module>
                    <frontName>gls</frontName>
                </args>
            </synergeticagency_gls>
        </routers>
    </frontend>
    <default>
        <gls>
            <general>
                <active>0</active>
                <sandbox>0</sandbox>
                <logging_enabled>0</logging_enabled>
                <debug_enabled>0</debug_enabled>
                <connector_log_enabled>0</connector_log_enabled>
                <api_url><![CDATA[https://api.gls-group.eu/public/v1/]]></api_url>
                <json_url><![CDATA[https://gls-group.eu/glsmagentoplugin/gls-magento-config.json]]></json_url>
                <tracking_url><![CDATA[https://www.gls-one.eu/#/trace?query=]]></tracking_url>
            </general>
            <shipment>
                <weight>0</weight>
                <return_label_enabled>0</return_label_enabled>
                <labelsize>A6</labelsize>
                <weight_unit>kg</weight_unit>
                <max_batch_amount>100</max_batch_amount>
                <notify_customer_shipment>0</notify_customer_shipment>
            </shipment>
            <alternative_shipper>
                <alternative_shipper_enabled>0</alternative_shipper_enabled>
            </alternative_shipper>
            <parcel_shop>
                <parcel_shop_enabled>0</parcel_shop_enabled>
                <parcel_shop_css_enabled>1</parcel_shop_css_enabled>
                <parcel_shop_url><![CDATA[https://gls-one.eu/#/parcelShopsExtern]]></parcel_shop_url>
            </parcel_shop>
        </gls>
        <carriers>
            <synergeticagency_gls>
                <active>0</active>
                <sort_order>10</sort_order>
                <model>synergeticagency_gls/carrier</model>
                <title>GLS</title>
                <sort_order>10</sort_order>
                <sallowspecific>0</sallowspecific>
                <showmethod>0</showmethod>
                <active_foreigncountries>1</active_foreigncountries>
                <name_foreigncountries>Europaversand - Zustellzeit je nach Zielland</name_foreigncountries>
                <show_logo_foreigncountries>1</show_logo_foreigncountries>
                <price_per_order_foreigncountries>0.00</price_per_order_foreigncountries>
                <active_express>1</active_express>
                <name_express>24h-Express - Garantierte Zustellung am nächsten Werktag (nach Versand) bis 17 Uhr</name_express>
                <show_logo_express>1</show_logo_express>
                <price_per_order_express>0.00</price_per_order_express>
                <active_standard>1</active_standard>
                <name_standard>Standardversand - Zustellung in 1-2 Werktagen (nach Versand)</name_standard>
                <show_logo_standard>1</show_logo_standard>
                <price_per_order_standard>0.00</price_per_order_standard>
            </synergeticagency_gls>
        </carriers>
        <payment>
            <glscashondelivery>
                <active>0</active>
                <sort_order>10</sort_order>
                <model>synergeticagency_gls/Glscashondelivery</model>
                <title>GLS-Nachnahme</title>
                <sort_order>10</sort_order>
                <order_status>pending</order_status>
            </glscashondelivery>
        </payment>
    </default>
</config>